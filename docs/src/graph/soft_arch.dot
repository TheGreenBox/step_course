digraph sat_step_ach {
    start="random";

    {
        rank=same
        user_input[shape=actor];
    }
    {
        rank=same
        moment[shape=actor];
        speed[shape=actor];
        mode[shape=actor];
    }
    {
        rank=same
        synchronize_control[shape=box];
        feedback_control[shape=box];
        current_feedback[shape=box];
    }
    {
        rank=same
        control_algo[shape=box];
    }
    pwm_wrap_module[shape=box];

    user_input -> moment;
    user_input -> speed;
    user_input -> mode;
    speed -> synchronize_control;
    speed -> feedback_control;
    moment -> current_feedback;

    synchronize_control -> control_algo;
    feedback_control -> control_algo;

    mode -> control_algo -> pwm_wrap_module;
    current_feedback -> pwm_wrap_module;
}

