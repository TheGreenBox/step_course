% find ../firmware/SatStepperBegin/ -name *.[ch] | sort >> src/code\_listings\_include.tex
\clearpage
\subsection{Листинг кода}

Репозиторий с полной историей разработки находится в свободном доступе на
\href{https://github.com/TheGreenBox/sattelite_step_drive}{GitHub.com}.

\subsubsection{main.c}
\label{module_main}
\lstinputlisting{../firmware/SatStepperBegin/main.c}

\newpage
\subsubsection{Модуль АЦП}
\label{module_adc}
\lstinputlisting{../firmware/SatStepperBegin/adc.h}
\lstinputlisting{../firmware/SatStepperBegin/adc.c}

\newpage
\subsubsection{Библиотека алгоритмов переключения фаз ШД}
\label{module_algo_types}
\lstinputlisting{../firmware/SatStepperBegin/algo_types.h}
\lstinputlisting{../firmware/SatStepperBegin/algo_types.c}

\newpage
\subsubsection{Шаговый модуль}
\label{module_control_algo}
\lstinputlisting{../firmware/SatStepperBegin/control_algo.h}
\lstinputlisting{../firmware/SatStepperBegin/control_algo.c}

\newpage
\subsubsection{Модуль ОС по положению}
\label{module_control_modules_feedback_control}
\lstinputlisting{../firmware/SatStepperBegin/control_modules/feedback_control.h}
\lstinputlisting{../firmware/SatStepperBegin/control_modules/feedback_control.c}

\newpage
\subsubsection{Модуль бездатчикового управления}
\label{module_control_modules_synchronized_control}
\lstinputlisting{../firmware/SatStepperBegin/control_modules/synchronized_control.h}
\lstinputlisting{../firmware/SatStepperBegin/control_modules/synchronized_control.c}

% \newpage
% \subsubsection{control\_modules/tests/condition\_test.h}
%\label{module_control_modules_tests_condition_test.h}
%\lstinputlisting{../firmware/SatStepperBegin/control_modules/tests/restoring_test.c}
%\lstinputlisting{../firmware/SatStepperBegin/control_modules/tests/condition_test.c}

\newpage
\subsubsection{Модуль ОС по току}
\label{module_current_feedback}
\lstinputlisting{../firmware/SatStepperBegin/current_feedback.h}
\lstinputlisting{../firmware/SatStepperBegin/current_feedback.c}

\newpage
\subsubsection{Модуль дополнительных движений}
\label{module_elementary_motions}
\lstinputlisting{../firmware/SatStepperBegin/elementary_motions.h}
\lstinputlisting{../firmware/SatStepperBegin/elementary_motions.c}

\newpage
\subsubsection{Модуль инициализации}
\label{module_init}
\lstinputlisting{../firmware/SatStepperBegin/init.h}
\lstinputlisting{../firmware/SatStepperBegin/init.c}

\newpage
\subsubsection{Модуль работы со светодиодами}
\label{module_led_control}
\lstinputlisting{../firmware/SatStepperBegin/led_control.h}
\lstinputlisting{../firmware/SatStepperBegin/led_control.c}

\newpage
\subsubsection{Модуль ШИМ}
\label{module_pwm_wrap_module}
\lstinputlisting{../firmware/SatStepperBegin/pwm_wrap_module.h}
\lstinputlisting{../firmware/SatStepperBegin/pwm_wrap_module.c}

\newpage
\subsubsection{Модуль обработки прерываний энкодера}
\label{module_sensors_encoder}
\lstinputlisting{../firmware/SatStepperBegin/sensors/encoder/encoder.h}
\lstinputlisting{../firmware/SatStepperBegin/sensors/encoder/encoder.c}

\newpage
\subsubsection{Модуль декодирования кода Грея}
\label{module_sensors_encoder_gray_code_decoder}
\lstinputlisting{../firmware/SatStepperBegin/sensors/encoder/gray_code_decoder.h}
\lstinputlisting{../firmware/SatStepperBegin/sensors/encoder/gray_code_decoder.c}
\lstinputlisting{../firmware/SatStepperBegin/sensors/encoder/tests/test.c}

\newpage
\subsubsection{Модуль ОС по скорости}
\label{module_speed_feedback}
\lstinputlisting{../firmware/SatStepperBegin/speed_feedback.h}
\lstinputlisting{../firmware/SatStepperBegin/speed_feedback.c}

\newpage
\subsubsection{Модуль глобального состояния системы}
\label{module_state}
\lstinputlisting{../firmware/SatStepperBegin/state.h}
\lstinputlisting{../firmware/SatStepperBegin/state.c}

\newpage
\subsubsection{Модуль таймеров}
\label{module_timers}
\lstinputlisting{../firmware/SatStepperBegin/timers.h}
\lstinputlisting{../firmware/SatStepperBegin/timers.c}

\newpage
\subsubsection{Часто используемые макросы}
\label{module_macros}
\lstinputlisting{../firmware/SatStepperBegin/utils/macros.h}

